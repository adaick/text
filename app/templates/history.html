{% extends 'layout.html' %}
{% block title %}Your History{% endblock %}
{% block content %}
<h2>Your Past Simulations</h2>
{% if history %}
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Strategy</th>
                <th>Expected Return (%)</th>
                <th>Volatility Cap (%)</th>
                <th>Summary</th>
            </tr>
        </thead>
        <tbody>
        {% for h in history %}
            <tr>
                <td>{{ h.timestamp.strftime('%Y-%m-%d %H:%M') }}</td>
                <td>{{ h.strategy }}</td>
                <td>{{ h.expected_return * 100 if h.expected_return else '—' }}</td>
                <td>{{ h.volatility_cap * 100 if h.volatility_cap else '—' }}</td>
                <td>{{ h.result_summary or '—' }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>You haven’t run any simulations yet.</p>
{% endif %}
<style>
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 2rem;
    color: white;
}
th, td {
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid #444;
}
th {
    background-color: #222;
    color: #00c853;
}
</style>
{% endblock %}